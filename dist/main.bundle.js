/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{emit:()=>u,off:()=>f,on:()=>l,once:()=>d,subscribe:()=>h,unsubscribe:()=>p});var n={};e.r(n),e.d(n,{action:()=>$,actions:()=>j,clear:()=>A,dispatch:()=>L,get:()=>k,init:()=>S,notify:()=>x,persist:()=>C,set:()=>T,subscribe:()=>P});var r={};e.r(r),e.d(r,{clearListeners:()=>z,error:()=>q,executeHandler:()=>F,executeMiddlewares:()=>R,getCurrentQuery:()=>W,getHistory:()=>K,getParsedQuery:()=>J,handle:()=>D,init:()=>N,matchDynamicRoute:()=>V,navigate:()=>H,notifyListeners:()=>Q,onChange:()=>G,refresh:()=>B,register:()=>U,setState:()=>_});var o={};e.r(o),e.d(o,{addMiddleware:()=>ee,configure:()=>Y,deleteRequest:()=>ie,executeMiddlewares:()=>te,get:()=>re,getNamedMiddlewares:()=>ne,post:()=>oe,put:()=>ae,request:()=>se});var a={};e.r(a),e.d(a,{default:()=>Me,getByKey:()=>Le,init:()=>Ie,load:()=>xe,replacePlaceholders:()=>$e,translate:()=>je});var i={};e.r(i),e.d(i,{addToCache:()=>De,cache:()=>He,deleteFromCache:()=>qe,get:()=>Ne,parseTemplate:()=>Fe,preload:()=>Ue,refreshCache:()=>Re,render:()=>_e,setConfig:()=>Ge,setContainer:()=>Qe});var s={};e.r(s),e.d(s,{checkPermission:()=>Xe,generateFingerprint:()=>et,generateId:()=>Be,getBrowserInfo:()=>Ke,getCapabilities:()=>ze,getDeviceType:()=>nt,getId:()=>We,getNetworkInfo:()=>Ze,getStorageInfo:()=>Ye,hashString:()=>tt,init:()=>Ve});const c={events:{}};function u(e,...t){c.events[e]&&c.events[e].forEach((e=>e(...t)))}function l(e,t){c.events[e]||(c.events[e]=[]),c.events[e].push(t)}function f(e,t){c.events[e]&&(c.events[e]=c.events[e].filter((e=>e!==t)))}function d(e,t){const n=(...r)=>{t(...r),f(e,n)};l(e,n)}function h(e,t){(e=Array.isArray(e)?e:[e]).forEach((e=>l(e,t)))}function p(e,t){(e=Array.isArray(e)?e:[e]).forEach((e=>f(e,t)))}const g={prefix:"",key(e){return this.prefix+e},cookie:{get(e){const t=g.key(e),n=("; "+document.cookie).split("; "+t+"=");if(2===n.length)return n.pop().split(";").shift()},set(e,t,n){const r=g.key(e);let o="";if(n){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),o="; expires="+e.toUTCString()}document.cookie=r+"="+t+o+"; path=/"},delete(e){const t=g.key(e);document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}},local:{get(e){const t=g.key(e),n=localStorage.getItem(t);if(!n)return;const r=JSON.parse(n),{value:o,timestamp:a}=r;if(!(a&&Date.now()>a))return o;localStorage.removeItem(t)},set(e,t,n){const r=g.key(e),o=n?Date.now()+24*n*60*60*1e3:null,a=JSON.stringify({value:t,timestamp:o});localStorage.setItem(r,a)},delete(e){const t=g.key(e);localStorage.removeItem(t)}},session:{get(e){const t=g.key(e),n=sessionStorage.getItem(t);if(!n)return;const r=JSON.parse(n),{value:o,timestamp:a}=r;if(!(a&&Date.now()>a))return o;sessionStorage.removeItem(t)},set(e,t,n){const r=g.key(e),o=n?Date.now()+24*n*60*60*1e3:null,a=JSON.stringify({value:t,timestamp:o});sessionStorage.setItem(r,a)},delete(e){const t=g.key(e);sessionStorage.removeItem(t)}}},y=g,{cookie:w,local:m,session:v}=y,b="appState",E={state:{},subscribers:{},actions:{},action:{}};function S(e={}){const t={...m.get(b)||{},...e};Object.keys(t).forEach((e=>T(e,t[e],!1)))}function k(e){return E.state[e]}function T(e,t,n=!0){E.state[e]=t,n&&E.notify(e)}function C(){m.set(b,E.state)}function A(){m.delete(b),E.state={},E.subscribers={},console.log("State has been cleared and localStorage removed.")}function P(e,t){(e=Array.isArray(e)?e:[e]).forEach((e=>{E.subscribers[e]||(E.subscribers[e]=[]),E.subscribers[e].push(t)}))}function x(e){E.subscribers[e]&&E.subscribers[e].forEach((t=>t(e,E.state[e])))}function L(e,t){E.actions[e]?E.actions[e](t):console.error(`Action ${e} not found`)}E.action.register=function(e,t){"function"==typeof t?"string"==typeof e?E.actions[e]=t:console.error("The action name must be of type string."):console.error("The action function must be of type function.")};const $=E.action;E.actions.fetch=async function({key:e,url:t}){try{const n=await fetch(t);T(e,await n.json())}catch(e){console.error("Error fetching data:",e)}},E.actions.update=function(e,t){T(e,t)};const j=E.actions,I={FETCHING:"fetching",NULL:null,LOADING:"loading",SUCCESS:"success",FAILED:"failed"},M={handle(e,t){console.error(`Error ${e}: ${t}`)}},O={currentPath:null,currentQuery:new URLSearchParams(window.location.search),listeners:[],history:[],routes:{},routeStates:{},middlewares:[]},N=()=>{Z(),window.addEventListener("popstate",(()=>{O.currentQuery=new URLSearchParams(window.location.search),D()}))},U=(e,t,n=[])=>{if(n="function"==typeof n?[n]:n,!Array.isArray(n)||n.some((e=>"function"!=typeof e)))throw new Error(`Middleware should be a function or an array of functions for route ${e}`);if("function"!=typeof t)throw new Error(`Handler should be a function for route ${e}`);const r=/:[^/]+/g.test(e);O.routes[e]={handler:t,middlewares:n,isDynamic:r}},D=async()=>{const e=J();if(!e.routeName)return console.log("No route");const t=e.routeName,n=O.routes[t]||O.routes["/404"],{handler:r,middlewares:o}=n||{};if(O.currentPath=t,!r)return void q(404);_(t,I.LOADING);const a={path:O.currentPath,query:W(),params:e.params};try{if(!(await R(o,a)).every((e=>e)))return q(400);await F(r,a),_(t,I.SUCCESS)}catch(e){console.error("Error:",e),e(500)}Q(a),O.navigating=!1},q=e=>{M.handle(e,`Route handling failed for ${O.currentPath}`),O.navigating=!1},R=async(e,t)=>{const n=await Promise.all(e.map((async e=>{try{return await e(t)}catch(t){return console.error(String(e.name),t),!1}})));return n},_=(e,t)=>{O.routeStates[e]=t,console.log(`Route ${e} is in state: ${t}`)},F=async(e,t)=>{console.log("Loading...",t),await e(t)},H=(e,t={},n=!1)=>{if(O.navigating)return console.log("Busy");const r=new URL(e,window.location.origin),o=r.pathname,a={...Object.fromEntries(r.searchParams.entries()),...t};console.log("mergedQuery",a,e,o),a.route=o;const i=new URLSearchParams(a).toString(),s=`${window.location.pathname}?${i}`;if(n)return window.open(s,"_blank");O.currentQuery.toString()!==i&&(O.navigating=!0,O.currentQuery=new URLSearchParams(a),window.history.pushState({},"",s),O.history.push({query:a}),D())},G=e=>{"function"==typeof e&&O.listeners.push(e)},Q=e=>{O.listeners.forEach((t=>t(e)))},J=()=>{const e=O.currentQuery.get("route"),t=O.routes[e],n=t||V(e);return{routeName:t?e:n?n.routeName:null,queryRoute:e,params:n?.params||{}}},V=e=>{for(const[t,n]of Object.entries(O.routes))if(n.isDynamic&&e){const r=new RegExp(`^${t.replace(/:[^/]+/g,"([^/]+)")}$`),o=e.match(r);if(o){const e={};return t.match(/:([^/]+)/g).map((e=>e.substring(1))).forEach(((t,n)=>{e[t]=o[n+1]})),{...n,params:e,routeName:t}}}return null},B=(e=W())=>{e.route&&console.warn("Please use navigate to move to a new route"),e.route=O.currentPath,H(O.currentPath,e)},W=()=>Object.fromEntries(O.currentQuery),K=()=>[...O.history],z=()=>{O.listeners=[]},Z=()=>{document.addEventListener("click",(e=>{const t=e.target.closest("a");if(!t||!t.hasAttribute("href"))return;const n=t.getAttribute("href");if(!n.startsWith("/"))return;if(1===e.button)return;let r=e.ctrlKey||e.metaKey||e.shiftKey;e.preventDefault(),t._navigating||(t._navigating=!0,setTimeout((()=>t._navigating=!1),100),H(n,{},r))}))},X={baseEndpoint:"",defaultMiddlewares:[],namedMiddlewares:{},defaultHeaders:{}},Y=({baseEndpoint:e,middlewares:t=[],headers:n={}})=>{if(Array.isArray(t))t.forEach((e=>{if("function"!=typeof e)throw new Error("Each middleware in defaultMiddlewares must be a function.")}));else{if("function"!=typeof t)throw new Error("Invalid middlewares. It should be a function or an array of functions.");t=[t]}if(X.baseEndpoint=e,X.defaultMiddlewares=t,"object"!=typeof n)throw new Error("Invalid headers format. It should be an object.");X.defaultHeaders={...n}},ee=(e,t)=>{if("string"!=typeof e||"function"!=typeof t)throw new Error("Middleware name must be a string and middleware must be a function.");X.namedMiddlewares[e]=t},te=async(e,t)=>{const n=[...X.defaultMiddlewares,...ne(t)],r=await Promise.all(n.map((async t=>{try{return!1!==await t(e)}catch(e){return console.error("Middleware error:",e),!1}})));return r},ne=e=>"string"==typeof e?X.namedMiddlewares[e]?[X.namedMiddlewares[e]]:[]:Array.isArray(e)?e.map((e=>X.namedMiddlewares[e])).filter(Boolean):[],re=async(e,t={},n=[])=>se(e,{method:"GET",...t},n),oe=async(e,t,n={},r=[])=>se(e,{method:"POST",body:JSON.stringify(t),...n},r),ae=async(e,t,n={},r=[])=>se(e,{method:"PUT",body:JSON.stringify(t),...n},r),ie=async(e,t={},n=[])=>se(e,{method:"DELETE",...t},n),se=async(e,t={},n=[])=>{if(t.headers=t.headers||{},t.query=t.query||{},!(await te(t,n)).every((e=>e)))throw new Error("Middleware failed, API request blocked");const r=new URL(`${X.baseEndpoint}${e}`),o=t.query||{};Object.keys(o).forEach((e=>{r.searchParams.set(e,o[e])}));const a=r.toString(),i={"Content-Type":"application/json",Accept:"application/json",...X.defaultHeaders,...t.headers};"GET"==t.method&&delete i["Content-Type"];const s={...t,headers:i};try{const e=await fetch(a,s);if(!e.ok)throw new Error(`Request failed with status ${e.status}`);return await e.json()}catch(e){throw console.error("API request failed:",e),e}};var ce=Object.prototype.toString,ue=Array.isArray||function(e){return"[object Array]"===ce.call(e)};function le(e){return"function"==typeof e}function fe(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function de(e,t){return null!=e&&"object"==typeof e&&t in e}var he=RegExp.prototype.test,pe=/\S/;var ge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},ye=/\s*/,we=/\s+/,me=/\s*=/,ve=/\s*\}/,be=/#|\^|\/|>|\{|&|=|!/;function Ee(e){this.string=e,this.tail=e,this.pos=0}function Se(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function ke(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Ee.prototype.eos=function(){return""===this.tail},Ee.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},Ee.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},Se.prototype.push=function(e){return new Se(e,this)},Se.prototype.lookup=function(e){var t,n,r,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var a,i,s,c=this,u=!1;c;){if(e.indexOf(".")>0)for(a=c.view,i=e.split("."),s=0;null!=a&&s<i.length;)s===i.length-1&&(u=de(a,i[s])||(n=a,r=i[s],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),a=a[i[s++]];else a=c.view[e],u=de(c.view,e);if(u){t=a;break}c=c.parent}o[e]=t}return le(t)&&(t=t.call(this.view)),t},ke.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},ke.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||Te.tags).join(":"),o=void 0!==n,a=o?n.get(r):void 0;return null==a&&(a=function(e,t){if(!e)return[];var n,r,o,a,i=!1,s=[],c=[],u=[],l=!1,f=!1,d="",h=0;function p(){if(l&&!f)for(;u.length;)delete c[u.pop()];else u=[];l=!1,f=!1}function g(e){if("string"==typeof e&&(e=e.split(we,2)),!ue(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(fe(e[0])+"\\s*"),r=new RegExp("\\s*"+fe(e[1])),o=new RegExp("\\s*"+fe("}"+e[1]))}g(t||Te.tags);for(var y,w,m,v,b,E,S=new Ee(e);!S.eos();){if(y=S.pos,m=S.scanUntil(n))for(var k=0,T=m.length;k<T;++k)a=v=m.charAt(k),function(e,t){return he.call(e,t)}(pe,a)?(f=!0,i=!0,d+=" "):(u.push(c.length),d+=v),c.push(["text",v,y,y+1]),y+=1,"\n"===v&&(p(),d="",h=0,i=!1);if(!S.scan(n))break;if(l=!0,w=S.scan(be)||"name",S.scan(ye),"="===w?(m=S.scanUntil(me),S.scan(me),S.scanUntil(r)):"{"===w?(m=S.scanUntil(o),S.scan(ve),S.scanUntil(r),w="&"):m=S.scanUntil(r),!S.scan(r))throw new Error("Unclosed tag at "+S.pos);if(b=">"==w?[w,m,y,S.pos,d,h,i]:[w,m,y,S.pos],h++,c.push(b),"#"===w||"^"===w)s.push(b);else if("/"===w){if(!(E=s.pop()))throw new Error('Unopened section "'+m+'" at '+y);if(E[1]!==m)throw new Error('Unclosed section "'+E[1]+'" at '+y)}else"name"===w||"{"===w||"&"===w?f=!0:"="===w&&g(m)}if(p(),E=s.pop())throw new Error('Unclosed section "'+E[1]+'" at '+S.pos);return function(e){for(var t,n=[],r=n,o=[],a=0,i=e.length;a<i;++a)switch((t=e[a])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,a=e.length;o<a;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(c))}(e,t),o&&n.set(r,a)),a},ke.prototype.render=function(e,t,n,r){var o=this.getConfigTags(r),a=this.parse(e,o),i=t instanceof Se?t:new Se(t,void 0);return this.renderTokens(a,i,n,e,r)},ke.prototype.renderTokens=function(e,t,n,r,o){for(var a,i,s,c="",u=0,l=e.length;u<l;++u)s=void 0,"#"===(i=(a=e[u])[0])?s=this.renderSection(a,t,n,r,o):"^"===i?s=this.renderInverted(a,t,n,r,o):">"===i?s=this.renderPartial(a,t,n,o):"&"===i?s=this.unescapedValue(a,t):"name"===i?s=this.escapedValue(a,t,o):"text"===i&&(s=this.rawValue(a)),void 0!==s&&(c+=s);return c},ke.prototype.renderSection=function(e,t,n,r,o){var a=this,i="",s=t.lookup(e[1]);if(s){if(ue(s))for(var c=0,u=s.length;c<u;++c)i+=this.renderTokens(e[4],t.push(s[c]),n,r,o);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)i+=this.renderTokens(e[4],t.push(s),n,r,o);else if(le(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,r.slice(e[3],e[5]),(function(e){return a.render(e,t,n,o)})))&&(i+=s)}else i+=this.renderTokens(e[4],t,n,r,o);return i}},ke.prototype.renderInverted=function(e,t,n,r,o){var a=t.lookup(e[1]);if(!a||ue(a)&&0===a.length)return this.renderTokens(e[4],t,n,r,o)},ke.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),o=e.split("\n"),a=0;a<o.length;a++)o[a].length&&(a>0||!n)&&(o[a]=r+o[a]);return o.join("\n")},ke.prototype.renderPartial=function(e,t,n,r){if(n){var o=this.getConfigTags(r),a=le(n)?n(e[1]):n[e[1]];if(null!=a){var i=e[6],s=e[5],c=e[4],u=a;0==s&&c&&(u=this.indentPartial(a,c,i));var l=this.parse(u,o);return this.renderTokens(l,t,n,u,r)}}},ke.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},ke.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||Te.escape,o=t.lookup(e[1]);if(null!=o)return"number"==typeof o&&r===Te.escape?String(o):r(o)},ke.prototype.rawValue=function(e){return e[1]},ke.prototype.getConfigTags=function(e){return ue(e)?e:e&&"object"==typeof e?e.tags:void 0},ke.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!ue(e)?e.escape:void 0};var Te={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Ce.templateCache=e},get templateCache(){return Ce.templateCache}},Ce=new ke;Te.clearCache=function(){return Ce.clearCache()},Te.parse=function(e,t){return Ce.parse(e,t)},Te.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(ue(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return Ce.render(e,t,n,r)},Te.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return ge[e]}))},Te.Scanner=Ee,Te.Context=Se,Te.Writer=ke;const Ae=Te,Pe={currentLang:null,translations:{}};async function xe(e,t=null){if(!Pe.translations[e]){Pe.translations[e]=I.FETCHING;try{const t=await fetch(`/translations/${e}.json`);if(!t.ok)throw new Error(`Language file ${e} not found`);const n=await t.json();Pe.translations[e]=n,Pe.currentLang=e}catch(t){Pe.translations[e]=I.NULL,console.error(t)}return"function"==typeof t?t():void 0}"function"==typeof t&&t()}function Le(e,t={}){const n=e.split(".");let r=Pe.translations[Pe.currentLang];for(let t of n){if(!r||!r[t])return`_${e}_`;r=r[t]}return $e(r,t)}function $e(e,t){return e.replace(/\{([a-zA-Z0-9_.]+)\}/g,((e,n)=>{const r=n.split(".");let o=t;for(let t of r){if(!o||void 0===o[t])return e;o=o[t]}return void 0!==o?o:e}))}async function je(e,t={}){if(!Pe.currentLang)return console.warn("No language set!, Please set a language using Translator.init(lang) before calling translate()"),e;const n=Pe.translations[Pe.currentLang]===I.FETCHING,r=!Pe.translations[Pe.currentLang],o=()=>e.replace(/_([^_]+)_/g,((e,n)=>Le(n,t)||e));if(r||n)try{return console.warn("isMissing | isFetching",n,r),await xe(Pe.currentLang,o)}catch(t){return console.error(`Translation loading failed for language: ${Pe.currentLang}`,t),e}else console.log("Alread Loaded",Pe.currentLang);return o()}async function Ie(e){e&&await xe(e)}const Me=Pe,Oe={prefix:`${window.location.origin}/templates`,caches:new Map,extension:".html",container:document.body,metric:null,engine:Ae,config:{}};async function Ne(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch template from ${e}`);return await t.text()}catch(e){return console.error("Error fetching template:",e),""}}async function Ue(e){for(let t of e)if(Oe.caches.has(t))console.log(`Template ${t} is Already Loaded`);else{const e=`${Oe.prefix}${t}${Oe.extension}`;try{Oe.caches.set(t,I.FETCHING);const n=await Ne(e);n&&Oe.caches.set(t,n)}catch(e){Oe.caches.delete(t),console.error(`Failed to preload template at path ${t}:`,e)}}}function De(e,t){Oe.caches.set(e,t)}function qe(e){Oe.caches.delete(e)}async function Re(e){const t=`${Oe.prefix}${e}${Oe.extension}`;try{const n=await Ne(t);n&&De(e,n)}catch(t){console.error(`Error refreshing template at ${e}:`,t)}}async function _e(e,t){Oe.container.classList.add("loading"),await Ue([e]);let n="",r="";if("object"==typeof Oe.config){const{header:e,footer:t}=Oe.config,o=[];e&&o.push(e),t&&o.push(t),await Ue(o),r=e?await Oe.caches.get(e):"",n=t?await Oe.caches.get(t):""}const o=Oe.caches.get(e);if(!o)return console.error(`Template for path "${e}" not found.`),"";const a=await Fe(r+o+n,t);Oe.container.innerHTML=await je(a,t),Oe.container.classList.remove("loading"),Oe.container.classList.add(`template${e.replaceAll("/","-")}`)}async function Fe(e,t){return Oe.engine.render(e,t)}const He={add:De,delete:qe,refresh:Re};function Ge(e={}){"object"==typeof e&&(Oe.config=e)}const Qe=e=>Oe.container=e,Je={id:null};async function Ve(){const e=await m.get("deviceId");e?Je.id=e:(Je.id=await Be(),await m.set("deviceId",Je.id))}async function Be(){return await tt(`${Date.now()}-${Math.random().toString(36).substr(2,9)}`)}function We(){return Je.id}function Ke(){return{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language}}function ze(){return{touchSupport:"ontouchstart"in window||navigator.maxTouchPoints>0,screenResolution:{width:window.screen.width,height:window.screen.height}}}function Ze(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e){const{effectiveType:t,downlink:n,rtt:r}=e;return{effectiveType:t,downlink:n,rtt:r}}return{effectiveType:"unknown",downlink:"unknown",rtt:"unknown"}}async function Xe(e){if(!navigator.permissions)return"unsupported";try{return(await navigator.permissions.query({name:e})).state}catch(e){return console.error("Permission query error:",e),"error"}}async function Ye(){if(navigator.storage&&navigator.storage.estimate)try{const{quota:e,usage:t}=await navigator.storage.estimate();return{quota:e,usage:t}}catch(e){return console.error("Storage estimation error:",e),{quota:null,usage:null}}return{quota:null,usage:null}}async function et(){return tt([navigator.userAgent,navigator.language||navigator.languages.join(","),navigator.platform,navigator.hardwareConcurrency||"N/A",navigator.deviceMemory||"N/A",screen.colorDepth,screen.width,screen.height,screen.pixelDepth,navigator.maxTouchPoints||0].filter(Boolean).join("|"))}async function tt(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}function nt(){const e=navigator.userAgent,t=/Mobi|Android/i.test(e),n=/Tablet|iPad/i.test(e);return{isMobile:t,isTablet:n,isIOS:/iPhone|iPad|iPod/i.test(e),isAndroid:/Android/i.test(e),isWindows:/Windows/i.test(e),isMac:/Mac/i.test(e),isLinux:/Linux/i.test(e),isDesktop:!t&&!n}}const rt={};!async function(){N(),await Ve()}(),(e=>{if(document.body)e();else{const t=new MutationObserver((()=>{document.body&&(t.disconnect(),e())}));t.observe(document.documentElement,{childList:!0})}})((()=>{rt.container=(()=>{const e=document.createElement("div");return e.id="flxy",document.body.prepend(e),e})(),Qe(rt.container)}));const ot={template:i,translator:a,router:r,api:o,emitter:t,device:s,states:n};Object.keys(ot).forEach((e=>rt[e]={...ot[e]})),window.Flxy=rt})();